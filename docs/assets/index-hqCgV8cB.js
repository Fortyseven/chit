var Fe=Object.defineProperty;var Ke=(e,t,n)=>t in e?Fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var fe=(e,t,n)=>(Ke(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function k(){}const Ae=e=>e;function ze(e){return e()}function we(){return Object.create(null)}function A(e){e.forEach(ze)}function ue(e){return typeof e=="function"}function z(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Je(e){return Object.keys(e).length===0}function he(e,...t){if(e==null){for(const s of t)s(void 0);return k}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function pe(e){let t;return he(e,n=>t=n)(),t}function G(e,t,n){e.$$.on_destroy.push(he(t,n))}function Ve(e,t,n){return e.set(n),t}const Me=typeof window<"u";let Xe=Me?()=>window.performance.now():()=>Date.now(),ge=Me?e=>requestAnimationFrame(e):k;const q=new Set;function je(e){q.forEach(t=>{t.c(e)||(q.delete(t),t.f())}),q.size!==0&&ge(je)}function Ge(e){let t;return q.size===0&&ge(je),{promise:new Promise(n=>{q.add(t={c:e,f:n})}),abort(){q.delete(t)}}}function m(e,t){e.appendChild(t)}function De(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Qe(e){const t=g("style");return t.textContent="/* empty */",We(De(e),t),t.sheet}function We(e,t){return m(e.head||e,t),t.sheet}function S(e,t,n){e.insertBefore(t,n||null)}function E(e){e.parentNode&&e.parentNode.removeChild(e)}function qe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function C(e){return document.createTextNode(e)}function x(){return C(" ")}function be(){return C("")}function se(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function h(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ye(e){return Array.from(e.childNodes)}function N(e,t){t=""+t,e.data!==t&&(e.data=t)}function ke(e,t,n,s){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function Ee(e,t,n){e.classList.toggle(t,!!n)}function Ze(e,t,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:s})}const re=new Map;let oe=0;function et(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function tt(e,t){const n={stylesheet:Qe(t),rules:{}};return re.set(e,n),n}function Se(e,t,n,s,r,i,o,c=0){const l=16.666/s;let u=`{
`;for(let v=0;v<=1;v+=l){const y=t+(n-t)*i(v);u+=v*100+`%{${o(y,1-y)}}
`}const a=u+`100% {${o(n,1-n)}}
}`,f=`__svelte_${et(a)}_${c}`,b=De(e),{stylesheet:$,rules:p}=re.get(b)||tt(b,e);p[f]||(p[f]=!0,$.insertRule(`@keyframes ${f} ${a}`,$.cssRules.length));const w=e.style.animation||"";return e.style.animation=`${w?`${w}, `:""}${f} ${s}ms linear ${r}ms 1 both`,oe+=1,f}function nt(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?i=>i.indexOf(t)<0:i=>i.indexOf("__svelte")===-1),r=n.length-s.length;r&&(e.style.animation=s.join(", "),oe-=r,oe||st())}function st(){ge(()=>{oe||(re.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&E(t)}),re.clear())})}let Z;function Q(e){Z=e}function rt(){if(!Z)throw new Error("Function called outside component initialization");return Z}function ye(e){rt().$$.on_mount.push(e)}const D=[],ie=[];let R=[];const Oe=[],ot=Promise.resolve();let me=!1;function it(){me||(me=!0,ot.then(Re))}function ee(e){R.push(e)}const ae=new Set;let M=0;function Re(){if(M!==0)return;const e=Z;do{try{for(;M<D.length;){const t=D[M];M++,Q(t),lt(t.$$)}}catch(t){throw D.length=0,M=0,t}for(Q(null),D.length=0,M=0;ie.length;)ie.pop()();for(let t=0;t<R.length;t+=1){const n=R[t];ae.has(n)||(ae.add(n),n())}R.length=0}while(D.length);for(;Oe.length;)Oe.pop()();me=!1,ae.clear(),Q(e)}function lt(e){if(e.fragment!==null){e.update(),A(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ee)}}function ct(e){const t=[],n=[];R.forEach(s=>e.indexOf(s)===-1?t.push(s):n.push(s)),n.forEach(s=>s()),R=t}let X;function ut(){return X||(X=Promise.resolve(),X.then(()=>{X=null})),X}function de(e,t,n){e.dispatchEvent(Ze(`${t?"intro":"outro"}${n}`))}const ne=new Set;let _e;function B(e,t){e&&e.i&&(ne.delete(e),e.i(t))}function W(e,t,n,s){if(e&&e.o){if(ne.has(e))return;ne.add(e),_e.c.push(()=>{ne.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}const ft={duration:0};function Le(e,t,n,s){let i=t(e,n,{direction:"both"}),o=s?0:1,c=null,l=null,u=null,a;function f(){u&&nt(e,u)}function b(p,w){const v=p.b-o;return w*=Math.abs(v),{a:o,b:p.b,d:v,duration:w,start:p.start,end:p.start+w,group:p.group}}function $(p){const{delay:w=0,duration:v=300,easing:y=Ae,tick:L=k,css:_}=i||ft,I={start:Xe()+w,b:p};p||(I.group=_e,_e.r+=1),"inert"in e&&(p?a!==void 0&&(e.inert=a):(a=e.inert,e.inert=!0)),c||l?l=I:(_&&(f(),u=Se(e,o,p,v,w,y,_)),p&&L(0,1),c=b(I,v),ee(()=>de(e,p,"start")),Ge(T=>{if(l&&T>l.start&&(c=b(l,v),l=null,de(e,c.b,"start"),_&&(f(),u=Se(e,o,c.b,c.duration,0,y,i.css))),c){if(T>=c.end)L(o=c.b,1-o),de(e,c.b,"end"),l||(c.b?f():--c.group.r||A(c.group.c)),c=null;else if(T>=c.start){const O=T-c.start;o=c.a+c.d*y(O/c.duration),L(o,1-o)}}return!!(c||l)}))}return{run(p){ue(i)?ut().then(()=>{i=i({direction:p?"in":"out"}),$(p)}):$(p)},end(){f(),c=l=null}}}function le(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Y(e){e&&e.c()}function H(e,t,n){const{fragment:s,after_update:r}=e.$$;s&&s.m(t,n),ee(()=>{const i=e.$$.on_mount.map(ze).filter(ue);e.$$.on_destroy?e.$$.on_destroy.push(...i):A(i),e.$$.on_mount=[]}),r.forEach(ee)}function U(e,t){const n=e.$$;n.fragment!==null&&(ct(n.after_update),A(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function at(e,t){e.$$.dirty[0]===-1&&(D.push(e),it(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function J(e,t,n,s,r,i,o=null,c=[-1]){const l=Z;Q(e);const u=e.$$={fragment:null,ctx:[],props:i,update:k,not_equal:r,bound:we(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:we(),dirty:c,skip_bound:!1,root:t.target||l.$$.root};o&&o(u.root);let a=!1;if(u.ctx=n?n(e,t.props||{},(f,b,...$)=>{const p=$.length?$[0]:b;return u.ctx&&r(u.ctx[f],u.ctx[f]=p)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](p),a&&at(e,f)),b}):[],u.update(),a=!0,A(u.before_update),u.fragment=s?s(u.ctx):!1,t.target){if(t.hydrate){const f=Ye(t.target);u.fragment&&u.fragment.l(f),f.forEach(E)}else u.fragment&&u.fragment.c();t.intro&&B(e.$$.fragment),H(e,t.target,t.anchor),Re()}Q(l)}class V{constructor(){fe(this,"$$");fe(this,"$$set")}$destroy(){U(this,1),this.$destroy=k}$on(t,n){if(!ue(n))return k;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}$set(t){this.$$set&&!Je(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const dt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(dt);const j=[];function pt(e,t){return{subscribe:d(e,t).subscribe}}function d(e,t=k){let n;const s=new Set;function r(c){if(z(e,c)&&(e=c,n)){const l=!j.length;for(const u of s)u[1](),j.push(u,e);if(l){for(let u=0;u<j.length;u+=2)j[u][0](j[u+1]);j.length=0}}}function i(c){r(c(e))}function o(c,l=k){const u=[c,l];return s.add(u),s.size===1&&(n=t(r,i)||k),c(e),()=>{s.delete(u),s.size===0&&n&&(n(),n=null)}}return{set:r,update:i,subscribe:o}}function mt(e,t,n){const s=!Array.isArray(e),r=s?[e]:e;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=t.length<2;return pt(n,(o,c)=>{let l=!1;const u=[];let a=0,f=k;const b=()=>{if(a)return;f();const p=t(s?u[0]:u,o,c);i?o(p):f=ue(p)?p:k},$=r.map((p,w)=>he(p,v=>{u[w]=v,a&=~(1<<w),l&&b()},()=>{a|=1<<w}));return l=!0,b(),function(){A($),f(),l=!1}})}let te=d([]),ce=d(0),K=d([]),P=d(!1),_t={embeddingonly:d(!1),f16kv:d(!0),frequencypenalty:d(1),lowvram:d(!1),maingpu:d(0),mirostat:d(1),mirostateta:d(.6),mirostattau:d(.8),numbatch:d(2),numctx:d(1024),numgpu:d(1),numgqa:d(1),numkeep:d(5),numpredict:d(100),numthread:d(8),numa:d(!1),penalizenewline:d(!0),presencepenalty:d(1.5),repeatlastn:d(33),repeatpenalty:d(1.2),ropefrequencybase:d(1.1),ropefrequencyscale:d(.8),seed:d(42),stop:d([`
`,"user:"]),temperature:d(.8),tfsz:d(.5),topk:d(20),topp:d(.9),typicalp:d(.7),usemlock:d(!1),usemmap:d(!0),vocabonly:d(!1)};const ve=mt([te,ce],([e,t])=>e[t]),F=Object.freeze(Object.defineProperty({__proto__:null,chatTimeline:K,currentModel:ve,currentModelIndex:ce,isInferring:P,model_settings:_t,models:te},Symbol.toStringTag,{value:"Module"}));function Te(e,t,n){const s=e.slice();return s[2]=t[n],s[4]=n,s}function ht(e){let t;return{c(){t=g("div"),t.textContent="ðŸ’€",h(t,"class","bot svelte-1o5uupc")},m(n,s){S(n,t,s)},p:k,d(n){n&&E(t)}}}function gt(e){let t;function n(i,o){if(i[2].role==="user")return vt;if(i[2].role==="assistant")return yt;if(i[2].role==="error")return bt}let s=n(e),r=s&&s(e);return{c(){r&&r.c(),t=be()},m(i,o){r&&r.m(i,o),S(i,t,o)},p(i,o){s===(s=n(i))&&r?r.p(i,o):(r&&r.d(1),r=s&&s(i),r&&(r.c(),r.m(t.parentNode,t)))},d(i){i&&E(t),r&&r.d(i)}}}function bt(e){let t,n=e[2].content+"",s,r;return{c(){t=g("div"),s=C(n),r=x(),h(t,"class","bot error svelte-1o5uupc")},m(i,o){S(i,t,o),m(t,s),m(t,r)},p(i,o){o&2&&n!==(n=i[2].content+"")&&N(s,n)},d(i){i&&E(t)}}}function yt(e){let t,n=e[2].content+"",s,r;return{c(){t=g("div"),s=C(n),r=x(),h(t,"class","bot svelte-1o5uupc")},m(i,o){S(i,t,o),m(t,s),m(t,r)},p(i,o){o&2&&n!==(n=i[2].content+"")&&N(s,n)},d(i){i&&E(t)}}}function vt(e){let t,n=e[2].content+"",s,r,i,o=e[0]==e[4]&&Ce();return{c(){t=g("div"),s=C(n),r=x(),o&&o.c(),i=be(),h(t,"class","user svelte-1o5uupc"),ke(t,"font-weight",e[0]==e[4]?"bold":"normal")},m(c,l){S(c,t,l),m(t,s),S(c,r,l),o&&o.m(c,l),S(c,i,l)},p(c,l){l&2&&n!==(n=c[2].content+"")&&N(s,n),l&1&&ke(t,"font-weight",c[0]==c[4]?"bold":"normal"),c[0]==c[4]?o||(o=Ce(),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(c){c&&(E(t),E(r),E(i)),o&&o.d(c)}}}function Ce(e){let t;return{c(){t=g("div"),t.innerHTML='<div class="loader"></div> ',h(t,"class","bot svelte-1o5uupc")},m(n,s){S(n,t,s)},d(n){n&&E(t)}}}function xe(e){let t;function n(i,o){return i[2]?gt:ht}let s=n(e),r=s(e);return{c(){r.c(),t=be()},m(i,o){r.m(i,o),S(i,t,o)},p(i,o){s===(s=n(i))&&r?r.p(i,o):(r.d(1),r=s(i),r&&(r.c(),r.m(t.parentNode,t)))},d(i){i&&E(t),r.d(i)}}}function $t(e){let t,n=le(e[1]),s=[];for(let r=0;r<n.length;r+=1)s[r]=xe(Te(e,n,r));return{c(){t=g("div");for(let r=0;r<s.length;r+=1)s[r].c();h(t,"class","timeline svelte-1o5uupc")},m(r,i){S(r,t,i);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(t,null)},p(r,[i]){if(i&3){n=le(r[1]);let o;for(o=0;o<n.length;o+=1){const c=Te(r,n,o);s[o]?s[o].p(c,i):(s[o]=xe(c),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},i:k,o:k,d(r){r&&E(t),qe(s,r)}}}function wt(e,t,n){let s;G(e,K,i=>n(1,s=i));let r=null;return P.subscribe(async i=>{console.log("isInferring UPDATED",i),n(0,r=i)}),[r,s]}class kt extends V{constructor(t){super(),J(this,t,wt,$t,z,{})}}const Be="http://localhost:11434",Et=async()=>(await fetch(`${Be}/api/tags`)).json(),St=async()=>{console.log("Refreshing models");const e=await Et();te.set(e.models),console.log("Models: ",pe(te))},Ot=async e=>{const t={role:"user",content:e};K.update(n=>(n.push(t),n)),P.set(pe(K).length-1);try{return(await fetch(`${Be}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:pe(ve).name,stream:!1,messages:[t]})})).json()}catch(n){return console.error("Error: ",n),{role:"error",message:"Error connecting to server: "+n.message}}finally{P.set(null)}},Lt=async e=>await Ot(e);function Tt(e){let t,n,s,r,i,o;return{c(){t=g("div"),n=g("textarea"),s=x(),r=g("button"),r.textContent="Send",h(n,"class","has-text-light has-background-black-ter svelte-ccsf60"),n.disabled=e[1],h(n,"placeholder","Type a message..."),h(r,"class","button is-primary svelte-ccsf60"),h(t,"class","container svelte-ccsf60")},m(c,l){S(c,t,l),m(t,n),e[4](n),m(t,s),m(t,r),i||(o=[se(n,"keypress",e[3]),se(r,"click",e[2])],i=!0)},p(c,[l]){l&2&&(n.disabled=c[1])},i:k,o:k,d(c){c&&E(t),e[4](null),i=!1,A(o)}}}function Ct(e,t,n){let s;G(e,P,l=>n(1,s=l));let r;async function i(){let l=r.value;if(l&&l.trim()!==""){n(0,r.value="",r);var u=await Lt(l);console.log("RESULT: ",u.message),K.update(a=>(a.push(u.message),a))}}function o(l){l.key==="Enter"&&(l.ctrlKey?(n(0,r.value+=`
`,r),l.preventDefault()):(i(),l.preventDefault()))}P.subscribe(async l=>{!l&&r&&r.focus()}),ye(()=>{r.focus()});function c(l){ie[l?"unshift":"push"](()=>{r=l,n(0,r)})}return[r,s,i,o,c]}class xt extends V{constructor(t){super(),J(this,t,Ct,Tt,z,{})}}function Ie(e,{delay:t=0,duration:n=400,easing:s=Ae}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:s,css:i=>`opacity: ${i*r}`}}function Ne(e,t,n){const s=e.slice();return s[7]=t[n],s[9]=n,s}function Pe(e){let t,n,s=e[7].name+"",r,i,o,c,l=e[7].details.parameter_size+"",u,a,f=e[7].details.quantization_level+"",b,$,p,w,v;function y(){return e[5](e[9])}return{c(){t=g("div"),n=g("div"),r=C(s),i=x(),o=g("div"),c=C("("),u=C(l),a=C(", "),b=C(f),$=C(`
                        )`),p=x(),h(n,"class","name svelte-y7m37x"),h(o,"class","details svelte-y7m37x"),h(t,"class","dropdown-item svelte-y7m37x")},m(L,_){S(L,t,_),m(t,n),m(n,r),m(t,i),m(t,o),m(o,c),m(o,u),m(o,a),m(o,b),m(o,$),m(t,p),w||(v=se(t,"click",y),w=!0)},p(L,_){e=L,_&4&&s!==(s=e[7].name+"")&&N(r,s),_&4&&l!==(l=e[7].details.parameter_size+"")&&N(u,l),_&4&&f!==(f=e[7].details.quantization_level+"")&&N(b,f)},d(L){L&&E(t),w=!1,v()}}}function It(e){var L;let t,n,s,r,i=(((L=e[1])==null?void 0:L.name)||"--")+"",o,c,l,u,a,f,b,$,p,w,v=le(e[2]),y=[];for(let _=0;_<v.length;_+=1)y[_]=Pe(Ne(e,v,_));return{c(){t=g("div"),n=g("div"),s=g("button"),r=g("span"),o=C(i),c=x(),l=g("span"),l.innerHTML='<i class="fas fa-angle-down" aria-hidden="true"></i>',u=x(),a=g("div"),f=g("div");for(let _=0;_<y.length;_+=1)y[_].c();h(l,"class","icon is-small"),h(s,"class","button svelte-y7m37x"),h(s,"aria-haspopup","true"),h(s,"aria-controls","dropdown-menu"),h(n,"class","dropdown-trigger svelte-y7m37x"),h(f,"class","dropdown-content"),h(a,"class","dropdown-menu svelte-y7m37x"),h(a,"role","menu"),h(t,"class","model-list dropdown svelte-y7m37x"),Ee(t,"is-active",e[0])},m(_,I){S(_,t,I),m(t,n),m(n,s),m(s,r),m(r,o),m(s,c),m(s,l),m(t,u),m(t,a),m(a,f);for(let T=0;T<y.length;T+=1)y[T]&&y[T].m(f,null);$=!0,p||(w=se(n,"click",e[4]),p=!0)},p(_,[I]){var T;if((!$||I&2)&&i!==(i=(((T=_[1])==null?void 0:T.name)||"--")+"")&&N(o,i),I&12){v=le(_[2]);let O;for(O=0;O<v.length;O+=1){const $e=Ne(_,v,O);y[O]?y[O].p($e,I):(y[O]=Pe($e),y[O].c(),y[O].m(f,null))}for(;O<y.length;O+=1)y[O].d(1);y.length=v.length}(!$||I&1)&&Ee(t,"is-active",_[0])},i(_){$||(_&&ee(()=>{$&&(b||(b=Le(a,Ie,{},!0)),b.run(1))}),$=!0)},o(_){_&&(b||(b=Le(a,Ie,{},!1)),b.run(0)),$=!1},d(_){_&&E(t),qe(y,_),_&&b&&b.end(),p=!1,w()}}}function Nt(e,t,n){let s,r,i;G(e,ce,a=>n(6,s=a)),G(e,ve,a=>n(1,r=a)),G(e,te,a=>n(2,i=a));let o=!1;function c(a){Ve(ce,s=a,s),n(0,o=!1)}return window.addEventListener("keydown",a=>{a.key==="Escape"&&n(0,o=!1)}),[o,r,i,c,()=>n(0,o=!o),a=>c(a)]}class Pt extends V{constructor(t){super(),J(this,t,Nt,It,z,{})}}function At(e){let t,n,s,r,i,o,c,l,u,a;return s=new Pt({}),o=new kt({}),u=new xt({}),{c(){t=g("div"),n=g("div"),Y(s.$$.fragment),r=x(),i=g("div"),Y(o.$$.fragment),c=x(),l=g("div"),Y(u.$$.fragment),h(n,"class","model-list svelte-1unrzff"),h(i,"class","content has-background-black-ter svelte-1unrzff"),h(l,"class","chat-input svelte-1unrzff"),h(t,"class","container svelte-1unrzff")},m(f,b){S(f,t,b),m(t,n),H(s,n,null),m(t,r),m(t,i),H(o,i,null),e[1](i),m(t,c),m(t,l),H(u,l,null),a=!0},p:k,i(f){a||(B(s.$$.fragment,f),B(o.$$.fragment,f),B(u.$$.fragment,f),a=!0)},o(f){W(s.$$.fragment,f),W(o.$$.fragment,f),W(u.$$.fragment,f),a=!1},d(f){f&&E(t),U(s),U(o),e[1](null),U(u)}}}function zt(e,t,n){let s;function r(){s&&setTimeout(()=>{n(0,s.scrollTop=s.scrollHeight,s),console.log("scrollToBottom",s.scrollHeight)},50)}K.subscribe(async o=>{console.log("chatTimeline UPDATED",o),r()}),P.subscribe(async o=>{console.log("isInferring UPDATED",o),r()}),ye(()=>{r()});function i(o){ie[o?"unshift":"push"](()=>{s=o,n(0,s)})}return[s,i]}class Mt extends V{constructor(t){super(),J(this,t,zt,At,z,{})}}function jt(e){let t;return{c(){t=g("button"),t.textContent="Click me",h(t,"class","button is-prmiary is-small")},m(n,s){S(n,t,s)},p:k,i:k,o:k,d(n){n&&E(t)}}}class Dt extends V{constructor(t){super(),J(this,t,null,jt,z,{})}}const He="CHIT",qt=[],Ue=["model_settings"];function Rt(e){return localStorage.getItem(He+"_"+e)}function Bt(){Object.keys(F).filter(e=>!Ue.includes(e)).forEach(e=>{F[e].constructor=="Array"||qt.push(F[e].subscribe(t=>{localStorage.setItem(He+"_"+e,JSON.stringify(t))}))})}function Ht(){console.debug("Attempting to restore local storage stores..."),Object.keys(F).filter(e=>!Ue.includes(e)).forEach(e=>{var n;const t=Rt(e);t&&((n=F[e])!=null&&n.set)&&F[e].set(JSON.parse(t))})}async function Ut(){console.log("Initializing app..."),Ht(),Bt(),await St(),console.log("...init complete.")}function Ft(e){let t,n,s,r,i,o,c;return s=new Dt({}),o=new Mt({}),{c(){t=g("div"),n=g("div"),Y(s.$$.fragment),r=x(),i=g("div"),Y(o.$$.fragment),h(n,"class","sidebar has-background-black-ter svelte-ollw6u"),h(i,"class","content svelte-ollw6u"),h(t,"class","container svelte-ollw6u")},m(l,u){S(l,t,u),m(t,n),H(s,n,null),m(t,r),m(t,i),H(o,i,null),c=!0},p:k,i(l){c||(B(s.$$.fragment,l),B(o.$$.fragment,l),c=!0)},o(l){W(s.$$.fragment,l),W(o.$$.fragment,l),c=!1},d(l){l&&E(t),U(s),U(o)}}}function Kt(e){return ye(async()=>{console.log("onMount"),await Ut()}),[]}class Jt extends V{constructor(t){super(),J(this,t,Kt,Ft,z,{})}}new Jt({target:document.body});
