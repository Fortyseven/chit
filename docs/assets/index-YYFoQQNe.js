var Ue=Object.defineProperty;var Fe=(e,t,n)=>t in e?Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ae=(e,t,n)=>(Fe(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function k(){}const Ae=e=>e;function Me(e){return e()}function we(){return Object.create(null)}function M(e){e.forEach(Me)}function fe(e){return typeof e=="function"}function z(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ke(e){return Object.keys(e).length===0}function he(e,...t){if(e==null){for(const s of t)s(void 0);return k}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function ne(e){let t;return he(e,n=>t=n)(),t}function G(e,t,n){e.$$.on_destroy.push(he(t,n))}function Ve(e,t,n){return e.set(n),t}const ze=typeof window<"u";let Xe=ze?()=>window.performance.now():()=>Date.now(),ge=ze?e=>requestAnimationFrame(e):k;const q=new Set;function je(e){q.forEach(t=>{t.c(e)||(q.delete(t),t.f())}),q.size!==0&&ge(je)}function Ge(e){let t;return q.size===0&&ge(je),{promise:new Promise(n=>{q.add(t={c:e,f:n})}),abort(){q.delete(t)}}}function d(e,t){e.appendChild(t)}function De(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Qe(e){const t=g("style");return t.textContent="/* empty */",We(De(e),t),t.sheet}function We(e,t){return d(e.head||e,t),t.sheet}function S(e,t,n){e.insertBefore(t,n||null)}function E(e){e.parentNode&&e.parentNode.removeChild(e)}function Re(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function C(e){return document.createTextNode(e)}function N(){return C(" ")}function be(){return C("")}function re(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function h(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ye(e){return Array.from(e.childNodes)}function P(e,t){t=""+t,e.data!==t&&(e.data=t)}function ke(e,t,n,s){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function Ee(e,t,n){e.classList.toggle(t,!!n)}function Ze(e,t,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:s})}const oe=new Map;let ie=0;function et(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function tt(e,t){const n={stylesheet:Qe(t),rules:{}};return oe.set(e,n),n}function Se(e,t,n,s,r,i,o,c=0){const l=16.666/s;let u=`{
`;for(let y=0;y<=1;y+=l){const v=t+(n-t)*i(y);u+=y*100+`%{${o(v,1-v)}}
`}const a=u+`100% {${o(n,1-n)}}
}`,f=`__svelte_${et(a)}_${c}`,b=De(e),{stylesheet:$,rules:m}=oe.get(b)||tt(b,e);m[f]||(m[f]=!0,$.insertRule(`@keyframes ${f} ${a}`,$.cssRules.length));const w=e.style.animation||"";return e.style.animation=`${w?`${w}, `:""}${f} ${s}ms linear ${r}ms 1 both`,ie+=1,f}function nt(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?i=>i.indexOf(t)<0:i=>i.indexOf("__svelte")===-1),r=n.length-s.length;r&&(e.style.animation=s.join(", "),ie-=r,ie||st())}function st(){ge(()=>{ie||(oe.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&E(t)}),oe.clear())})}let Z;function Q(e){Z=e}function rt(){if(!Z)throw new Error("Function called outside component initialization");return Z}function ve(e){rt().$$.on_mount.push(e)}const R=[],le=[];let B=[];const Oe=[],ot=Promise.resolve();let me=!1;function it(){me||(me=!0,ot.then(qe))}function ee(e){B.push(e)}const de=new Set;let j=0;function qe(){if(j!==0)return;const e=Z;do{try{for(;j<R.length;){const t=R[j];j++,Q(t),lt(t.$$)}}catch(t){throw R.length=0,j=0,t}for(Q(null),R.length=0,j=0;le.length;)le.pop()();for(let t=0;t<B.length;t+=1){const n=B[t];de.has(n)||(de.add(n),n())}B.length=0}while(R.length);for(;Oe.length;)Oe.pop()();me=!1,de.clear(),Q(e)}function lt(e){if(e.fragment!==null){e.update(),M(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ee)}}function ct(e){const t=[],n=[];B.forEach(s=>e.indexOf(s)===-1?t.push(s):n.push(s)),n.forEach(s=>s()),B=t}let X;function ut(){return X||(X=Promise.resolve(),X.then(()=>{X=null})),X}function pe(e,t,n){e.dispatchEvent(Ze(`${t?"intro":"outro"}${n}`))}const se=new Set;let _e;function H(e,t){e&&e.i&&(se.delete(e),e.i(t))}function W(e,t,n,s){if(e&&e.o){if(se.has(e))return;se.add(e),_e.c.push(()=>{se.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}const ft={duration:0};function Le(e,t,n,s){let i=t(e,n,{direction:"both"}),o=s?0:1,c=null,l=null,u=null,a;function f(){u&&nt(e,u)}function b(m,w){const y=m.b-o;return w*=Math.abs(y),{a:o,b:m.b,d:y,duration:w,start:m.start,end:m.start+w,group:m.group}}function $(m){const{delay:w=0,duration:y=300,easing:v=Ae,tick:L=k,css:_}=i||ft,x={start:Xe()+w,b:m};m||(x.group=_e,_e.r+=1),"inert"in e&&(m?a!==void 0&&(e.inert=a):(a=e.inert,e.inert=!0)),c||l?l=x:(_&&(f(),u=Se(e,o,m,y,w,v,_)),m&&L(0,1),c=b(x,y),ee(()=>pe(e,m,"start")),Ge(T=>{if(l&&T>l.start&&(c=b(l,y),l=null,pe(e,c.b,"start"),_&&(f(),u=Se(e,o,c.b,c.duration,0,v,i.css))),c){if(T>=c.end)L(o=c.b,1-o),pe(e,c.b,"end"),l||(c.b?f():--c.group.r||M(c.group.c)),c=null;else if(T>=c.start){const O=T-c.start;o=c.a+c.d*v(O/c.duration),L(o,1-o)}}return!!(c||l)}))}return{run(m){fe(i)?ut().then(()=>{i=i({direction:m?"in":"out"}),$(m)}):$(m)},end(){f(),c=l=null}}}function ce(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Y(e){e&&e.c()}function J(e,t,n){const{fragment:s,after_update:r}=e.$$;s&&s.m(t,n),ee(()=>{const i=e.$$.on_mount.map(Me).filter(fe);e.$$.on_destroy?e.$$.on_destroy.push(...i):M(i),e.$$.on_mount=[]}),r.forEach(ee)}function U(e,t){const n=e.$$;n.fragment!==null&&(ct(n.after_update),M(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function at(e,t){e.$$.dirty[0]===-1&&(R.push(e),it(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function K(e,t,n,s,r,i,o=null,c=[-1]){const l=Z;Q(e);const u=e.$$={fragment:null,ctx:[],props:i,update:k,not_equal:r,bound:we(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:we(),dirty:c,skip_bound:!1,root:t.target||l.$$.root};o&&o(u.root);let a=!1;if(u.ctx=n?n(e,t.props||{},(f,b,...$)=>{const m=$.length?$[0]:b;return u.ctx&&r(u.ctx[f],u.ctx[f]=m)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](m),a&&at(e,f)),b}):[],u.update(),a=!0,M(u.before_update),u.fragment=s?s(u.ctx):!1,t.target){if(t.hydrate){const f=Ye(t.target);u.fragment&&u.fragment.l(f),f.forEach(E)}else u.fragment&&u.fragment.c();t.intro&&H(e.$$.fragment),J(e,t.target,t.anchor),qe()}Q(l)}class V{constructor(){ae(this,"$$");ae(this,"$$set")}$destroy(){U(this,1),this.$destroy=k}$on(t,n){if(!fe(n))return k;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}$set(t){this.$$set&&!Ke(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const dt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(dt);const D=[];function pt(e,t){return{subscribe:p(e,t).subscribe}}function p(e,t=k){let n;const s=new Set;function r(c){if(z(e,c)&&(e=c,n)){const l=!D.length;for(const u of s)u[1](),D.push(u,e);if(l){for(let u=0;u<D.length;u+=2)D[u][0](D[u+1]);D.length=0}}}function i(c){r(c(e))}function o(c,l=k){const u=[c,l];return s.add(u),s.size===1&&(n=t(r,i)||k),c(e),()=>{s.delete(u),s.size===0&&n&&(n(),n=null)}}return{set:r,update:i,subscribe:o}}function mt(e,t,n){const s=!Array.isArray(e),r=s?[e]:e;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=t.length<2;return pt(n,(o,c)=>{let l=!1;const u=[];let a=0,f=k;const b=()=>{if(a)return;f();const m=t(s?u[0]:u,o,c);i?o(m):f=fe(m)?m:k},$=r.map((m,w)=>he(m,y=>{u[w]=y,a&=~(1<<w),l&&b()},()=>{a|=1<<w}));return l=!0,b(),function(){M($),f(),l=!1}})}let te=p([]),ue=p(0),I=p([]),A=p(!1),_t={embeddingonly:p(!1),f16kv:p(!0),frequencypenalty:p(1),lowvram:p(!1),maingpu:p(0),mirostat:p(1),mirostateta:p(.6),mirostattau:p(.8),numbatch:p(2),numctx:p(1024),numgpu:p(1),numgqa:p(1),numkeep:p(5),numpredict:p(100),numthread:p(8),numa:p(!1),penalizenewline:p(!0),presencepenalty:p(1.5),repeatlastn:p(33),repeatpenalty:p(1.2),ropefrequencybase:p(1.1),ropefrequencyscale:p(.8),seed:p(42),stop:p([`
`,"user:"]),temperature:p(.8),tfsz:p(.5),topk:p(20),topp:p(.9),typicalp:p(.7),usemlock:p(!1),usemmap:p(!0),vocabonly:p(!1)};const ye=mt([te,ue],([e,t])=>e[t]),F=Object.freeze(Object.defineProperty({__proto__:null,chatTimeline:I,currentModel:ye,currentModelIndex:ue,isInferring:A,model_settings:_t,models:te},Symbol.toStringTag,{value:"Module"}));function Te(e,t,n){const s=e.slice();return s[2]=t[n],s[4]=n,s}function ht(e){let t;return{c(){t=g("div"),t.textContent="ðŸ’€",h(t,"class","bot svelte-1sn67m0")},m(n,s){S(n,t,s)},p:k,d(n){n&&E(t)}}}function gt(e){let t;function n(i,o){if(i[2].role==="user")return yt;if(i[2].role==="assistant")return vt;if(i[2].role==="error")return bt}let s=n(e),r=s&&s(e);return{c(){r&&r.c(),t=be()},m(i,o){r&&r.m(i,o),S(i,t,o)},p(i,o){s===(s=n(i))&&r?r.p(i,o):(r&&r.d(1),r=s&&s(i),r&&(r.c(),r.m(t.parentNode,t)))},d(i){i&&E(t),r&&r.d(i)}}}function bt(e){let t,n=e[2].content+"",s,r;return{c(){t=g("div"),s=C(n),r=N(),h(t,"class","bot error svelte-1sn67m0")},m(i,o){S(i,t,o),d(t,s),d(t,r)},p(i,o){o&2&&n!==(n=i[2].content+"")&&P(s,n)},d(i){i&&E(t)}}}function vt(e){let t,n,s=e[2].content+"",r,i,o,c;return{c(){t=g("div"),n=g("div"),r=C(s),i=N(),o=g("div"),o.innerHTML='<button title="Retry" class="svelte-1sn67m0">R</button> <button title="To Clipboard" class="svelte-1sn67m0">C</button>',c=N(),h(n,"class","text svelte-1sn67m0"),h(o,"class","controls svelte-1sn67m0"),h(t,"class","bot svelte-1sn67m0")},m(l,u){S(l,t,u),d(t,n),d(n,r),d(t,i),d(t,o),d(t,c)},p(l,u){u&2&&s!==(s=l[2].content+"")&&P(r,s)},d(l){l&&E(t)}}}function yt(e){let t,n=e[2].content+"",s,r,i,o=e[0]==e[4]&&Ce();return{c(){t=g("div"),s=C(n),r=N(),o&&o.c(),i=be(),h(t,"class","user svelte-1sn67m0"),ke(t,"font-weight",e[0]==e[4]?"bold":"normal")},m(c,l){S(c,t,l),d(t,s),S(c,r,l),o&&o.m(c,l),S(c,i,l)},p(c,l){l&2&&n!==(n=c[2].content+"")&&P(s,n),l&1&&ke(t,"font-weight",c[0]==c[4]?"bold":"normal"),c[0]==c[4]?o||(o=Ce(),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(c){c&&(E(t),E(r),E(i)),o&&o.d(c)}}}function Ce(e){let t;return{c(){t=g("div"),t.innerHTML='<div class="loader"></div> ',h(t,"class","bot svelte-1sn67m0")},m(n,s){S(n,t,s)},d(n){n&&E(t)}}}function Ne(e){let t;function n(i,o){return i[2]?gt:ht}let s=n(e),r=s(e);return{c(){r.c(),t=be()},m(i,o){r.m(i,o),S(i,t,o)},p(i,o){s===(s=n(i))&&r?r.p(i,o):(r.d(1),r=s(i),r&&(r.c(),r.m(t.parentNode,t)))},d(i){i&&E(t),r.d(i)}}}function $t(e){let t,n=ce(e[1]),s=[];for(let r=0;r<n.length;r+=1)s[r]=Ne(Te(e,n,r));return{c(){t=g("div");for(let r=0;r<s.length;r+=1)s[r].c();h(t,"class","timeline svelte-1sn67m0")},m(r,i){S(r,t,i);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(t,null)},p(r,[i]){if(i&3){n=ce(r[1]);let o;for(o=0;o<n.length;o+=1){const c=Te(r,n,o);s[o]?s[o].p(c,i):(s[o]=Ne(c),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},i:k,o:k,d(r){r&&E(t),Re(s,r)}}}function wt(e,t,n){let s;G(e,I,i=>n(1,s=i));let r=null;return A.subscribe(async i=>{console.log("isInferring UPDATED",i),n(0,r=i)}),[r,s]}class kt extends V{constructor(t){super(),K(this,t,wt,$t,z,{})}}const Be="http://localhost:11434",Et=async()=>(await fetch(`${Be}/api/tags`)).json(),St=async()=>{console.log("Refreshing models");const e=await Et();te.set(e.models),console.log("Models: ",ne(te))},Ot=async e=>{const t={role:"user",content:e};I.update(n=>(n.push(JSON.parse(JSON.stringify(t))),n)),A.set(ne(I).length-1);try{return(await fetch(`${Be}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:ne(ye).name,stream:!1,messages:ne(I)})})).json()}catch(n){return console.error("Error: ",n),{role:"error",message:"Error connecting to server: "+n.message}}finally{A.set(null)}},Lt=async e=>await Ot(e);function Tt(e){let t,n,s,r,i,o;return{c(){t=g("div"),n=g("textarea"),s=N(),r=g("button"),r.textContent="Send",h(n,"class","has-text-light has-background-black-ter svelte-ccsf60"),n.disabled=e[1],h(n,"placeholder","Type a message..."),h(r,"class","button is-primary svelte-ccsf60"),h(t,"class","container svelte-ccsf60")},m(c,l){S(c,t,l),d(t,n),e[4](n),d(t,s),d(t,r),i||(o=[re(n,"keypress",e[3]),re(r,"click",e[2])],i=!0)},p(c,[l]){l&2&&(n.disabled=c[1])},i:k,o:k,d(c){c&&E(t),e[4](null),i=!1,M(o)}}}function Ct(e,t,n){let s;G(e,A,l=>n(1,s=l));let r;async function i(){let l=r.value;if(l&&l.trim()!==""){if(l==="/clear"){I.set([]),n(0,r.value="",r);return}n(0,r.value="",r);var u=await Lt(l);console.log("RESULT: ",u.message),I.update(a=>(a.push(u.message),a))}}function o(l){l.key==="Enter"&&(l.ctrlKey?(n(0,r.value+=`
`,r),l.preventDefault()):(i(),l.preventDefault()))}A.subscribe(async l=>{!l&&r&&r.focus()}),ve(()=>{r.focus()});function c(l){le[l?"unshift":"push"](()=>{r=l,n(0,r)})}return[r,s,i,o,c]}class Nt extends V{constructor(t){super(),K(this,t,Ct,Tt,z,{})}}function xe(e,{delay:t=0,duration:n=400,easing:s=Ae}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:s,css:i=>`opacity: ${i*r}`}}function Ie(e,t,n){const s=e.slice();return s[7]=t[n],s[9]=n,s}function Pe(e){let t,n,s=e[7].name+"",r,i,o,c,l=e[7].details.parameter_size+"",u,a,f=e[7].details.quantization_level+"",b,$,m,w,y;function v(){return e[5](e[9])}return{c(){t=g("div"),n=g("div"),r=C(s),i=N(),o=g("div"),c=C("("),u=C(l),a=C(", "),b=C(f),$=C(`
                        )`),m=N(),h(n,"class","name svelte-y7m37x"),h(o,"class","details svelte-y7m37x"),h(t,"class","dropdown-item svelte-y7m37x")},m(L,_){S(L,t,_),d(t,n),d(n,r),d(t,i),d(t,o),d(o,c),d(o,u),d(o,a),d(o,b),d(o,$),d(t,m),w||(y=re(t,"click",v),w=!0)},p(L,_){e=L,_&4&&s!==(s=e[7].name+"")&&P(r,s),_&4&&l!==(l=e[7].details.parameter_size+"")&&P(u,l),_&4&&f!==(f=e[7].details.quantization_level+"")&&P(b,f)},d(L){L&&E(t),w=!1,y()}}}function xt(e){var L;let t,n,s,r,i=(((L=e[1])==null?void 0:L.name)||"--")+"",o,c,l,u,a,f,b,$,m,w,y=ce(e[2]),v=[];for(let _=0;_<y.length;_+=1)v[_]=Pe(Ie(e,y,_));return{c(){t=g("div"),n=g("div"),s=g("button"),r=g("span"),o=C(i),c=N(),l=g("span"),l.innerHTML='<i class="fas fa-angle-down" aria-hidden="true"></i>',u=N(),a=g("div"),f=g("div");for(let _=0;_<v.length;_+=1)v[_].c();h(l,"class","icon is-small"),h(s,"class","button svelte-y7m37x"),h(s,"aria-haspopup","true"),h(s,"aria-controls","dropdown-menu"),h(n,"class","dropdown-trigger svelte-y7m37x"),h(f,"class","dropdown-content"),h(a,"class","dropdown-menu svelte-y7m37x"),h(a,"role","menu"),h(t,"class","model-list dropdown svelte-y7m37x"),Ee(t,"is-active",e[0])},m(_,x){S(_,t,x),d(t,n),d(n,s),d(s,r),d(r,o),d(s,c),d(s,l),d(t,u),d(t,a),d(a,f);for(let T=0;T<v.length;T+=1)v[T]&&v[T].m(f,null);$=!0,m||(w=re(n,"click",e[4]),m=!0)},p(_,[x]){var T;if((!$||x&2)&&i!==(i=(((T=_[1])==null?void 0:T.name)||"--")+"")&&P(o,i),x&12){y=ce(_[2]);let O;for(O=0;O<y.length;O+=1){const $e=Ie(_,y,O);v[O]?v[O].p($e,x):(v[O]=Pe($e),v[O].c(),v[O].m(f,null))}for(;O<v.length;O+=1)v[O].d(1);v.length=y.length}(!$||x&1)&&Ee(t,"is-active",_[0])},i(_){$||(_&&ee(()=>{$&&(b||(b=Le(a,xe,{},!0)),b.run(1))}),$=!0)},o(_){_&&(b||(b=Le(a,xe,{},!1)),b.run(0)),$=!1},d(_){_&&E(t),Re(v,_),_&&b&&b.end(),m=!1,w()}}}function It(e,t,n){let s,r,i;G(e,ue,a=>n(6,s=a)),G(e,ye,a=>n(1,r=a)),G(e,te,a=>n(2,i=a));let o=!1;function c(a){Ve(ue,s=a,s),n(0,o=!1)}return window.addEventListener("keydown",a=>{a.key==="Escape"&&n(0,o=!1)}),[o,r,i,c,()=>n(0,o=!o),a=>c(a)]}class Pt extends V{constructor(t){super(),K(this,t,It,xt,z,{})}}function At(e){let t,n,s,r,i,o,c,l,u,a;return s=new Pt({}),o=new kt({}),u=new Nt({}),{c(){t=g("div"),n=g("div"),Y(s.$$.fragment),r=N(),i=g("div"),Y(o.$$.fragment),c=N(),l=g("div"),Y(u.$$.fragment),h(n,"class","model-list svelte-1unrzff"),h(i,"class","content has-background-black-ter svelte-1unrzff"),h(l,"class","chat-input svelte-1unrzff"),h(t,"class","container svelte-1unrzff")},m(f,b){S(f,t,b),d(t,n),J(s,n,null),d(t,r),d(t,i),J(o,i,null),e[1](i),d(t,c),d(t,l),J(u,l,null),a=!0},p:k,i(f){a||(H(s.$$.fragment,f),H(o.$$.fragment,f),H(u.$$.fragment,f),a=!0)},o(f){W(s.$$.fragment,f),W(o.$$.fragment,f),W(u.$$.fragment,f),a=!1},d(f){f&&E(t),U(s),U(o),e[1](null),U(u)}}}function Mt(e,t,n){let s;function r(){s&&setTimeout(()=>{n(0,s.scrollTop=s.scrollHeight,s),console.log("scrollToBottom",s.scrollHeight)},50)}I.subscribe(async o=>{console.log("chatTimeline UPDATED",o),r()}),A.subscribe(async o=>{console.log("isInferring UPDATED",o),r()}),ve(()=>{r()});function i(o){le[o?"unshift":"push"](()=>{s=o,n(0,s)})}return[s,i]}class zt extends V{constructor(t){super(),K(this,t,Mt,At,z,{})}}function jt(e){let t;return{c(){t=g("button"),t.textContent="Click me",h(t,"class","button is-prmiary is-small")},m(n,s){S(n,t,s)},p:k,i:k,o:k,d(n){n&&E(t)}}}class Dt extends V{constructor(t){super(),K(this,t,null,jt,z,{})}}const He="CHIT",Rt=[],Je=["model_settings"];function qt(e){return localStorage.getItem(He+"_"+e)}function Bt(){Object.keys(F).filter(e=>!Je.includes(e)).forEach(e=>{F[e].constructor=="Array"||Rt.push(F[e].subscribe(t=>{localStorage.setItem(He+"_"+e,JSON.stringify(t))}))})}function Ht(){console.debug("Attempting to restore local storage stores..."),Object.keys(F).filter(e=>!Je.includes(e)).forEach(e=>{var n;const t=qt(e);t&&((n=F[e])!=null&&n.set)&&F[e].set(JSON.parse(t))})}async function Jt(){console.log("Initializing app..."),Ht(),Bt(),await St(),console.log("...init complete.")}function Ut(e){let t,n,s,r,i,o,c;return s=new Dt({}),o=new zt({}),{c(){t=g("div"),n=g("div"),Y(s.$$.fragment),r=N(),i=g("div"),Y(o.$$.fragment),h(n,"class","sidebar has-background-black-ter svelte-ollw6u"),h(i,"class","content svelte-ollw6u"),h(t,"class","container svelte-ollw6u")},m(l,u){S(l,t,u),d(t,n),J(s,n,null),d(t,r),d(t,i),J(o,i,null),c=!0},p:k,i(l){c||(H(s.$$.fragment,l),H(o.$$.fragment,l),c=!0)},o(l){W(s.$$.fragment,l),W(o.$$.fragment,l),c=!1},d(l){l&&E(t),U(s),U(o)}}}function Ft(e){return ve(async()=>{console.log("onMount"),await Jt()}),[]}class Kt extends V{constructor(t){super(),K(this,t,Ft,Ut,z,{})}}new Kt({target:document.body});
